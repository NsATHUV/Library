---
tags:
  - Python/内容
aliases:
  - title
  - 方法
  - 方法（method）
  - f字符串
  - strip方法
  - strip
---
 [[Python/Python 数据类型|字符串]]（string）就是一系列字符。在 Python 中，用引号引起的都是字符串，其中的引号可以是单引号，也可以是双引号：

```
"This is a string."
'This is also a string.'
```

利用这一特性，我们可以灵活的在字符串中包含引号和撇号：
```PYTHON
'I told my friend, "Python is my favorite language!"'
"The language 'Python' is named after Monty Python, not the snake."
"One of Python's strengths is its diverse and supportive community."
```

但也可以使用**转义符号**`\`来将符号转义，==转义符号不仅适用于引号，也适用于其他特殊符号，如%==：
```python
"I told my friend,\"Python is my favorite language!\""
```

---
# 2.3.1 使用方法修改字符串的大小写

**例**：`name.py`
```python
name = "ada LoveLace"  
print(name.title())
print(name.upper())
print(name.lower())
```
输出：
```
Ada Lovelace
ADA LOVELACE
ada lovelace
```

## 方法（method）

**方法**（method）是 Python 可对数据执行的操作。

在 `name.title()` 中，`name` 后面的句点 `.` 让 Python 对 `name` 变量执行 `title()` 方法指定的操作。每个方法后面都跟着一对括号，这是因为很多方法需要额外的参数完成工作。参数在括号内传递。`title()`函数不需要额外的参数，因此括号是空的。
## title() 方法

使用 `title()` 方法来实现单词==首字母大写==。

```python
bicycles = ['trek', 'cannondale', 'redline', 'specialized']
print(bicycles[0].title())  # 输出 'Trek'
```

**注意**：首字母大写指不论原来是什么样的，最终都是首字母大写，比如 `'ADA'` 将转换为 `'Ada'`，`'aDA'` 同样。

## upper() 方法

使用 `upper()` 方法来实现字符串==**全大写**==。

```python
text = 'hello world'
print(text.upper())  # 输出 'HELLO WORLD'
```

## lower() 方法

使用 `lower()` 方法来实现字符串==**全小写**==。

```python
text = 'Hello World'
print(text.lower())  # 输出 'hello world'
```

> [!quote] **补充**：在存储数据时，`lower()` 很有用。用户通常不能像开发者期望的那样提供正确的大小写，因此需要将字符串先转换为全小写的再存储。以后需要显示这些信息时，再将其转换为最合适的大小写方式即可。在匹配搜索词的时候也同样很有帮助，这是最基本的模糊匹配方法之一。


---
# 2.3.2 在字符串中使用变量

要在字符耻辱中插入变量的值，可先在左引号前加上字母`f`，再将要插入的变量放在花括号内。这样，Python 在显示字符串时，将吧每个变量都替换为其值。

这种字符串称为 `f字符串` 。`f` 是format（设置格式）的简写，因为 Python 通过吧花括号内的变量替换为其值来设置字符串的格式（例-1）。

`f字符串`本质上还是字符串，所以可以将其赋值给变量(例-2）。


**例-1**：
```PYTHON
first_name = "ada" 
last_name = "lovelace" 
full_name = f"{first_name} {last_name}"
print(full_name)
```
**输出1**：
```
ada lovelace
```

**例-2**：
```python
first_name = "ada"
last_name = "lovelace"
full_name = f"{first_name} {last_name}"

message = f"Hello, {full_name.title()}!"
print(message)
```
**输出2**：
```
Hello, Ada Lovelace!
```

---
# 2.3.3 使用制表符或换行来添加空白

**空白**泛指任何非打印字符，如空格、制表符和换行符。

在**字符串**中可以使用==转义字符==来添加相关的**空白**。

![[C语言笔记/转义字符|转义字符]]

---
# 2.3.4 删除字符串两端空白-Strip系列方法

> 在程序中，额外的空白可能令人迷惑。对程序员来说，`'python'` 和 `'python '` 看起来几乎没什么两样，但对程序来说，它们是两个不同的字符串。Python 能够发现 `'python '` 中额外的空白，并认为它意义重大——除非你告诉它不是这样的。

[[Python/Python-Files/《Python编程从入门到实践第3版》.pdf#page=54&selection=11,0,32,12|《Python编程从入门到实践第3版》, page 54]]

在Python编程语言中，`strip()`、`lstrip()`和`rstrip()`是用于处理字符串的方法，它们从英语的角度可以理解为去除字符串两侧、左侧和右侧的空白字符。

1. **`strip()`方法：**
   - 从单词 "strip"（剥离） 可以理解为去除字符串两侧的空白字符。
   - 语法：`string.strip([characters])`，其中`characters`是可选的参数，指定要从字符串两侧删除的字符集合。
   - 示例：
     ```python
     text = "  Hello, World!  "
     stripped_text = text.strip()
     print(stripped_text)
     # 输出："Hello, World!"
     ```

2. **`lstrip()`方法：**
   - 从 "lstrip" 可以理解为去除字符串左侧（left side）的空白字符。
   - 语法：`string.lstrip([characters])`，其中`characters`是可选的参数，指定要从字符串左侧删除的字符集合。
   - 示例：
     ```python
     text = "  Hello, World!  "
     left_stripped_text = text.lstrip()
     print(left_stripped_text)
     # 输出："Hello, World!  "
     ```

3. **`rstrip()`方法：**
   - 从 "rstrip" 可以理解为去除字符串右侧（right side）的空白字符。
   - 语法：`string.rstrip([characters])`，其中`characters`是可选的参数，指定要从字符串右侧删除的字符集合。
   - 示例：
     ```python
     text = "  Hello, World!  "
     right_stripped_text = text.rstrip()
     print(right_stripped_text)
     # 输出："  Hello, World!"
     ```

这些方法在处理用户输入、文件读取等情况时很有用，因为它们能够清理字符串两侧的不需要的空白，使得字符串更容易处理和比较。

---
# 2.3.5 删除前缀-Remove方法

> 假设有一个 URL 包含常见的前缀 `https://`， 而你想删除这个前缀，只关注用户需要输入地址栏的部分。

下面演示了如何完成这项任务：
```python
nostarch_url = 'https://nostarch.com' 
nostarch_url.removeprefix('https://')
```

输出：
```
'nostarch.com'
```

[[Python/Python-Files/《Python编程从入门到实践第3版》.pdf#page=55&selection=72,19,80,26|《Python编程从入门到实践第3版》, page 55]]

在Python 3.9及更高版本中，`str` 类型引入了 `removeprefix()` 方法。这个方法用于从字符串的开头移除指定的前缀。从英语的角度来看，"remove prefix" 的意思是移除前缀。

语法如下：

```python
string.removeprefix(prefix)
```

其中 `prefix` 是要从字符串开头移除的前缀。如果字符串以指定的前缀开头，那么这个前缀将被移除，否则字符串保持不变。

示例：

```python
text = "Hello, World!"
new_text = text.removeprefix("Hello, ")
print(new_text)
```

输出：
```
"World!"
```
在这个例子中，"Hello, " 是要被移除的前缀，所以新的字符串为 "World!"。

这个方法提供了一种更方便的方式来处理字符串开头的前缀，而不需要使用切片或其他手动方法。需要注意的是，如果字符串不以指定的前缀开头，原字符串将保持不变。

---
# 2.3.6 如何在使用字符串时避免语法错误

> **语法错误**是一种你会不时遇到的错误。当程序包含非法的 Python 代码时，就会导致语法错误。例如，在用单引号引起的字符串中包含撇号，就将导致错误。这是因为这会导致 Python 将第一个单引号和撇号之间的内容视为一个字符串，进而将余下的文本视为 Python 代码，从而引发错误。

[[Python/Python-Files/《Python编程从入门到实践第3版》.pdf#page=55&selection=132,0,147,10|《Python编程从入门到实践第3版》, page 55]]

---
# 练习

>[!tip] 在完成下面的每个练习时，都编写一个独立的程序，并将其保存到名称类似于 name_cases.py 的文件中。如果遇到困难，请休息一会儿或参阅附录 C 提供的建 议。

- [x] **练习 2.3 个性化消息**：用变量表示一个人的名字，并向其显示一条消息。显示的消息应非常简单，如下所示。
	```
	Hello Eric, would you like to learn some Python today?
	```

	```python
	full_name = (input("输入你的姓名：")).strip()  
	print(f"Hello {full_name.title()}, would you like to learn some Python today?")
	```
	
- [x] **练习 2.4 调整名字的大小写**：用变量表示一个人的名字，再分别以全小写、全大 写和首字母大写的方式显示这个人名。
	```python
	first_name = input("请输入名（En）：")  
	last_name = input("请输入姓（En）：")  
	full_name = last_name + " " + first_name  
	  
	print(f"你好，{full_name.title()}!")  
	print(f"你好，{full_name.upper()}!")  
	print(f"你好，{full_name.lower()}!")
	```

- [x] **练习 2.5 名言1**：找到你钦佩的名人说的一句名言，将这个名人的姓名和名言打 印出来。输出应类似于下面这样（包括引号）。
	```
	Albert Einstein once said, “A person who never made a mistake never tried anything new.”
	```

- [x] **练习 2.6 名言2**：重复练习 2.5，但用变量 `famous_person` 表示名人的姓名， 再创建要显示的消息并将其赋给变量 `message`，然后打印这条消息。
	```python
	author_en = "helen keller"  
	author_ch = "海伦·凯勒"  
	  
	famous_remark_en = "Everything has its wonder, even darkness and silence...\n...and I learn, whatever state I may be in, therein to be content."  
	famous_remark_ch = "万物皆奇迹，乃至黑暗与寂静……我已懂得，无论境遇，泰然处之。"  
	  
	print("---------------------------------------------------------------------")  
	print(f"{famous_remark_en}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——{author_en.title()}")  
	print("---------------------------------------------------------------------")  
	print(f"{famous_remark_ch}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——{author_ch}")  
	print("---------------------------------------------------------------------")
	```

- [x] **练习 2.7 删除人名中的空白**：用变量表示一个人的名字，并在其开头和末尾都包 含一些空白字符。务必至少使用字符组合 `\t` 和 `\n` 各一次。
	```python
	name = " helen kELLer \t\n"  
	print(f"{name}")  
	print(f"{name.strip()}")  
	print(f"{name.strip().title()}")
	```

- [x] **练习 2.8 文件拓展名**：Python 提供了 `removesuffix()` 方法，其工作原理与 `removeprefix()` 很像。请将值 `python_notes.txt` 赋给变量 `filename`，再使用 `removesuffix()` 方法来显示不包含扩展名的文件名，就像 文件浏览器所做的那样。
	```python
	url = "https://baidu.com"  
	file_name = "strip_pre&suffix.py"  
	  
	print(f"百度网址: {url.removeprefix('https://')}")  
	print(f"文件名: {file_name.removesuffix('.py')}")
	```