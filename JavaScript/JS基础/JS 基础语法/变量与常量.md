---
tags:
  - JavaScript
  - 内容
aliases:
  - 变量与常量（var、let、const）
日月: 2024-11-27
时分: 16:23
---
### **JavaScript 中的变量与常量**

在 JavaScript 中，变量用于存储数据，常量用于存储不可更改的数据。JavaScript 提供了三种声明变量或常量的方式：`var`、`let` 和 `const`。下面是它们的区别及用法。

---

### **1. var**（变量/variable）

`var`是 JavaScript 中最早的变量声明方式，在 ES6 之前是唯一的选择。

#### **特点**

1. **作用域：函数作用域**
    - 变量只在函数内部有效（函数作用域）。
    - 如果在函数外声明，属于全局作用域。
2. **变量[[JavaScript/JS基础/JS 基础语法/提升|提升]]**：
    - `var` 声明的变量会被[[JavaScript/JS基础/JS 基础语法/提升|提升]]到作用域的顶部，但**值不会被[[JavaScript/JS基础/JS 基础语法/提升|提升]]**。
    - 代码运行时会将变量声明移到作用域最顶端。
3. **允许重复声明**：
    - 可以多次声明同名变量，不会报错。

#### **示例**

```javascript
// 变量提升
console.log(a); // 输出 undefined
var a = 10;     // 声明并赋值
console.log(a); // 输出 10

// 作用域
function test() {
    var b = 20;  // 函数内部有效
    console.log(b);
}
test();
// console.log(b); // 报错：b 未定义

// 重复声明
var c = 30;
var c = 40;      // 不报错
console.log(c);  // 输出 40
```

---

### **2. let**[^1]

`let` 是 [[JavaScript/JS基础/JS 简介/什么是 JavaScript？#^737ac8|ES6]] 引入的新变量声明方式，弥补了 `var` 的不足。

#### **特点**

1. **作用域：块级作用域**
    - 只在 `{}` 包裹的代码块内有效。
2. **不允许重复声明**：
    - 在同一作用域内不能声明同名变量。
3. **变量[[JavaScript/JS基础/JS 基础语法/提升|提升]]，但不初始化**：
    - `let` 声明的变量会[[JavaScript/JS基础/JS 基础语法/提升|提升]]，但在声明之前无法使用（“暂时性死区”）。

#### **示例**

```javascript
// 块级作用域
{
    let d = 50;
    console.log(d); // 输出 50
}
// console.log(d); // 报错：d 未定义

// 不允许重复声明
let e = 60;
// let e = 70; // 报错：标识符 e 已被声明

// 暂时性死区
// console.log(f); // 报错：Cannot access 'f' before initialization
let f = 80;
console.log(f); // 输出 80
```

#### 对关键字名字的解释：
- 全拼：**let**
- 含义：许可或允许，用于声明一个可以改变的变量。`let` 语义上更接近自然语言，表示"允许此变量存在并被修改"。

---

### **3. const**（==constant==）

`const` 是用于声明常量的，声明后值不能被修改。

#### **特点**

1. **作用域：块级作用域**
    - 和 `let` 一样，只在 `{}` 内有效。
2. **必须立即赋值**：
    - 声明时必须赋初值，不能只声明不赋值。
3. **不可重新赋值**：
    - 一旦声明，值不可更改，但**引用类型的属性可以更改**。
4. **不允许重复声明**：
    - 和 `let` 一样，不能重复声明同名变量。

#### **示例**

```javascript
// 必须赋值
const g = 90;
// const h; // 报错：缺少初始化器

// 不可重新赋值
// g = 100; // 报错：Assignment to constant variable

// 引用类型的属性可以更改
const obj = { name: "Alice" };
obj.name = "Bob";     // 修改对象属性
console.log(obj.name); // 输出 "Bob"
// obj = {}; // 报错：对象引用不可更改
```

---

### **4. `var`、`let`、`const` 的比较**

|特性|`var`|`let`|`const`|
|---|---|---|---|
|**作用域**|函数作用域|块级作用域|块级作用域|
|**变量提升**|提升并初始化为 `undefined`|提升但不初始化（暂时性死区）|提升但不初始化（暂时性死区）|
|**重复声明**|允许|不允许|不允许|
|**重新赋值**|允许|允许|不允许|
|**常量特性**|否|否|是|

---

### **5. 选择使用**

- **`var`**：已不推荐使用，现代开发中尽量避免。
- **`let`**：用于需要重新赋值的变量，适合常规场景。
- **`const`**：用于常量或不会改变的变量，是默认选择，优先使用。

#### **最佳实践**

- 默认使用 `const`，只在需要重新赋值时使用 `let`。
- 避免使用 `var`，以减少作用域相关问题和潜在错误。

---

### **6. 总结代码**

```javascript
// 推荐用法
const pi = 3.14;    // 声明一个常量
let counter = 0;    // 声明一个可变变量

counter += 1;       // 修改变量值
console.log(pi, counter);

// 避免使用 var
// var name = "John"; // 不推荐
```

[^1]: `var` 和 `let` 的对比，详情：[[JavaScript/JS基础/JS 基础语法/let 对比 var|let 对比 var]]。