---
tags:
  - MySQL/约束
  - 内容
aliases: 
日月: 2024-11-24
时分: 20:40
---
**约束** 是数据库中的一种规则或限制，用于保证数据表中存储的数据的正确性、完整性和一致性。通过约束，数据库系统可以自动验证数据，避免非法数据的插入或更新。以下是约束的详细介绍：

---

## **1. 为什么需要约束？**

- **保证数据完整性**：确保数据符合业务规则，例如每个学生必须有一个唯一的学号。
- **防止错误数据**：如避免重复的主键、空值、不符合范围的值等。
- **维护表间关系**：如通过外键约束确保父子表数据的同步性。
- **减少编程复杂性**：将规则内置到数据库中，减少应用层校验代码。

---

## **2. 常见约束类型**

常见的约束包括：

- **[[数据库/MySQL/约束/主键约束（Primary Key Constraint）|主键]]（PRIMARY KEY）**：确保字段唯一且不为空。
- **外键（FOREIGN KEY）**：用于建立表与表之间的关系。
- **唯一性（UNIQUE）**：确保字段值唯一。
- **非空（NOT NULL）**：确保字段值不能为空。
- **默认值（DEFAULT）**：为字段提供默认值。
- **检查（CHECK）**：用于限制字段值的范围或格式（部分数据库支持）。

---

## **3. 约束的使用方式**

- **在创建表时定义**：
    
    ```sql
    CREATE TABLE example (
        id INT PRIMARY KEY,
        name VARCHAR(50) NOT NULL
    );
    ```

- **在表创建后添加**：
    
    ```sql
    ALTER TABLE example ADD CONSTRAINT chk_age CHECK (age > 0);
    ```


---

## **4. 小结**

约束是数据库完整性的重要保障，通过定义规则，自动限制非法数据的插入和修改，确保数据质量。常见约束包括非空（NOT NULL）、唯一（UNIQUE）、主键（PRIMARY KEY）、外键（FOREIGN KEY）、默认值（DEFAULT）以及检查约束（CHECK）。合理使用这些约束，可以大大提高数据库设计的效率和安全性。