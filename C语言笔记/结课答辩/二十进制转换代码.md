---
tags:
  - 程序
  - 项目
  - 案例
---
```C
#include<stdio.h>
#include<conio.h>
#include<string.h>
#include<math.h>
//by：蔡金良
int main()
{
	int j, x_y, x; // j:要输入数字的进制. x_y:每一次x的余数 x:用户输入的数字.
	char s[100] = "", s_temp[100] = "";
	/*
	s_temp:临时字符串，用于存储最终结果.
	s:求出的结果，但要倒过来才是最终结果，即s_temp
	*/
	printf("请输入您需要转换的数字的进制（2代表二进制，10代表十进制）:\n");
	scanf_s("%d", &j);
	while (true)
	{
		if (j == 2)
		{
			printf("系统已了解您的需求(2-->10)!\n");
			break;
		}
		else if (j == 10)
		{
			printf("系统已了解您的需求(10-->2)!\n");
			break;
		}
		else
		{
			printf("您的输入有误，系统不能知道您的需求，请重新输入:\n");
			scanf_s("%d", &j);
		}
	}
	printf("请输入您要转换的数字：\n");
	scanf_s("%d", &x);
	if (j == 10)
	{
		int x_c = x;
		//x_c为x的副本，由于最终结果要输出x，所以不对x进行再次赋值
		while (x_c != 0)
		{
			x_y = x_c % 2;
			x_c /= 2;
			char s_1[2];
			sprintf_s(s_1, "%d", x_y);
			//将x_y转换为字符赋值给s_1.
			strcat_s(s, s_1);
			//strcat_s 函数用于将一个字符串连接到另一个字符串的末尾。
		}
		/*
		验算纸
		0	1		2		3
		t	t+1		t+1		t+1
		len	len-1	len-2	len-3
		3	2		1		0

		*/
		/*printf("%d\n", len);*/
		int time = 0;
		//time:循环次数也作为s_temp每次循环使用的索引
		for (int len = strlen(s) - 1; len >= 0; len -= 1)
		{
			s_temp[time] = s[len];
			time += 1;
		}
		printf("十进制数:%d转换为二进制为:%s\n", x, s_temp);
	}
	else if (j == 2)
	{
		char t[100];
		sprintf_s(t, "%d", x);
		//将x的值转换为字符串赋值给t

		int y = 0;
		//y存储最终转换为十进制的数
		int weight = 1; // 初始化权重为1
		for (int len = strlen(t) - 1; len >= 0; len -= 1)
		{
			// 将字符转换为整数，并根据权重相加
			y += (t[len] - '0') * weight;
			weight *= 2; // 权重每次乘以2
		}
		printf("二进制数:%d转换为十进制为:%d\n", x, y);
	}

	_getch();
	return 0;
}

```

^a8485c

![[C语言笔记/C-files/二进制转换.exe|二进制转换]]

# 变量解释
下表中列出所有变量以及它们的作用：

| 变量名          | 作用和描述                                                                                   |
|------------------|-----------------------------------------------------------------------------------------------|
| j                | 存储用户输入的数字进制，表示要进行的进制转换。                                             |
| x_y              | 用于存储每一次从十进制数字x中提取的余数。                                                |
| x                | 存储用户输入的要进行进制转换的数字。                                                      |
| s                | 字符串数组，用于存储计算出的二进制数字的每一位（十进制转二进制时的临时存储）。        |
| s_temp           | 字符串数组，用于存储最终的二进制结果（反转s数组获得最终结果）。                           |
| x_c              | 用于存储x的副本，以便在十进制转二进制时不更改原始输入x的值。                                |
| s_1              | 字符串，用于将x_y（十进制余数）转换为字符形式并附加到s数组中。                              |
| t                | 字符串数组，用于将x的值转换为字符串表示以便进行十进制转二进制。                             |
| y                | 存储最终的十进制结果，表示进行十进制到二进制的转换时的结果。                                |
| weight           | 存储权重，用于在十进制到二进制转换中根据位置加权计算十进制结果。                            |
| time             | 用于记录循环次数，并作为s_temp数组每次循环的索引。                                            |
| len              | 用于循环遍历字符串数组s和t的索引。                                                         |
| remainder         | 临时变量，存储十进制到二进制转换中的余数。                                                 |

这个表格描述了每个变量的名称以及它们在程序中的作用和功能。这将有助于理解程序的结构和逻辑。


