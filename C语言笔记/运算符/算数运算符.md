---
tags:
  - C语言/内容
aliases:
  - 目的概念
---
下面是 C 语言中常用的算数运算符，以及它们的功能和示例：

 | 运算符 | 描述         | 示例         |
 | ------ | ------------ | ------------ |
 | +      | 加法（双目） | `a + b`      |
 | -      | 减法（双目） | `a - b`      |
 | *      | 乘法（双目） | `a * b`      |
 | /      | 除法（双目） | `a / b`      |
 | %      | 取余（双目） | `a % b`      |
 | +      | 正号（单目） | `+5`         |
 | -      | 负号（单目） | `-5`         |
 | ++     | 自增（单目） | `a++`、`++a` |
 | --     | 自减（单目） | `a--`、`--a` |

## 目的概念

 像下面这样，`+`作为加号运算符时，是双目运算符，双目就代表对左右两侧起作用，而当`+`作为正号时，只对右侧起作用，这就是单目运算符。

 ```mermaid
 graph TD
 A(1+2)
 A-->B[1]
 A-->C[+]
 A-->D[2]
 B-->E[操作数]
 C-->F[运算符]
 D-->G[操作数]
 ```

 C语言还有一个唯一的三目运算符 `? :`

 ###### 示例代码：

 ```c
 #include <stdio.h>

int main() {
    int a = 10, b = 5;

    printf("a + b = %d\n", a + b);
    printf("a - b = %d\n", a - b);
    printf("a * b = %d\n", a * b);
    printf("a / b = %d\n", a / b);
    printf("a %% b = %d\n", a % b);

    int c = 15;
    
    c = (c > 10) ? c + 1 : c;  // 如果 c 大于 10，c 加 1，否则保持不变
    printf("c after increment: %d\n", c);

    int d = 20;
    d = (d > 15) ? d - 1 : d;  // 如果 d 大于 15，d 减 1，否则保持不变
    printf("d after decrement: %d\n", d);

    return 0;
}
 ```
输出：
```CS
a + b = 15
a - b = 5
a * b = 50
a / b = 2
a % b = 0
c after increment: 16
d after decrement: 19
```

 在示例代码中，我们使用了各种算数运算符，以及自增和自减运算符，演示了它们在操作中的使用。需要注意运算符的[[优先级和结合性]]，以避免出现不明确的结果。

# 类型转换

> 当不同类型的数据进行运算后，结果会是什么类型？

## 自动转换

 当编译器遇到不同类型的数据运算时，会将两种数据转换为相同的数据类型，通常情况下，编译器会将内存占用小的数据类型转换为另一个内存占用较大的数据类型。

 ```c
 1+1.0==1.0+1.0
 ```

 就像上面的代码，编译器遇到整型与浮点型运算时，会将整型转换为浮点型再运算，所以<u>结果就是浮点型</u>。

## 强制转换

 除了上面的情况，C语言当中，还允许我们强制转换数据类型。

 ```c
 1+(int)1.0
 ```

 在操作数的前面用小括号将要强制转换的数据类型写入即可。

 需要注意的是：如果强制转换小数位整数，会直接将小数部分抹除，而不会进行四舍五入。比如下面这样：

 ```c
 1+(int)1.8==1+1
 ```
